<!-- self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 }); -->

<h1 align="center">
  <img src="mind.svg" alt="KHAYDAROV" />
</h1>

# Hi, I'm <a href="https://t.me/setup_Windows11" target="_blank">`Jasur`</a> <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExb20yeXlndGU1OWdjMmk4bWtsYXlwODFsczJmc3RrNW9vMnZ6MnBhdSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/eACGztkTkisd5n2uNU/giphy.gif" width="40px" height="40px">



<h3>  Connect:<h3>
<!-- !if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemen -->
<a href="https://t.me/KanYonA" target="_blank"><img src="https://www.pngall.com/wp-content/uploads/11/Telegram-PNG-Image.png" width="45" height="45"></a>

```js
body{
    margin: 0;
    padding: 0;
}
```
---
<!-- *if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemenif (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElemen -->
<h2>Buy Me Coffee</h2>
<a href="https://www.buymeacoffee.com/viyeounvi5"><img src="https://camo.githubusercontent.com/32d063e68f27818bc6890accd7462e36f62985cf716707aa8e7dfa1d04a47074/68747470733a2f2f63646e2e6275796d6561636f666665652e636f6d2f627574746f6e732f76322f64656661756c742d7265642e706e67" alt="Buy Me A Coffee" width="150" data-canonical-src="https://cdn.buymeacoffee.com/buttons/v2/default-red.png" style="max-width: 100%;"> </a>

---
###  Technologies & Languages
<!-- !self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 }); -->
<div>
  <img src="https://github.com/devicons/devicon/blob/master/icons/html5/html5-original.svg" title="html5" alt="html5" width="40" height="40"/>&nbsp
  <img src="https://github.com/devicons/devicon/blob/master/icons/css3/css3-original.svg" title="css" alt="css3" width="40" height="40"/>&nbsp
  <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/csharp/csharp-original.svg" alt="csharp" width="40" height="40"/>&nbsp
</div>

---

###   Frameworks & Library

<div>
  <img src="https://pugjs.org/images/favicon-32x32.png" title="pug/pug" alt="pug/pug" width="40" height="40"/>&nbsp;
  <img src="https://github.com/devicons/devicon/blob/master/icons/sass/sass-original.svg" title="sass/scss" alt="sass/scss" width="40" height="40"/>&nbsp;
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Markdown-mark.svg/800px-Markdown-mark.svg.png" alt="tg bot" width="60" height="40"/>&nbsp
</div>
<!-- !self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 }); -->
---

[![Anurag's GitHub stats](https://github-readme-stats.vercel.app/api?username=ha7darov)](https://github.com/anuraghazra/github-readme-stats)


<!-- !self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 });self.fetchContent(URL, function (err, content) {
  if (err) {
   return callback(err, null);
  }

  // Parse the content fetch from national bank of romania
  var xmlObj = self.parseContent(content);
  var rootCube = xmlObj.childNamed("Body");
  var cube = rootCube.childNamed("Cube");

  // return error if date is not available
  if (cube === null || _.isUndefined(cube) || _.isUndefined(cube.attr)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  // search for quote currency rate
  var rateElement = cube.childWithAttribute('currency', currencyPair.getQuoteCurrency());

  // return error if rate is not available
  if (rateElement === null || _.isUndefined(rateElement) || _.isUndefined(rateElement.attr) || _.isUndefined(
    rateElement.val)) {
   return callback(new UnsupportedCurrencyPairException(currencyPair, Provider), null);
  }

  var val = Big(rateElement.val);
  var rate = rateElement.attr.multiplier ? val.div(Big(rateElement.attr.multiplier)) : val;
  var date = cube.attr.date ? new Date(cube.attr.date) : new Date();

  return callback(null, new Rate(rate.toString(), date, Provider));
 }); -->